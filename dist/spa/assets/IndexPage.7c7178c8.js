import{b as A,T as fe,n as ee,d as me,Q as J,a as te}from"./QChip.aef8c727.js";import{y as he,k as Y,z as ye,c as r,h as m,A as be,g as Z,an as Se,r as N,w as ue,ai as ke,aa as _e,a_ as xe,K as we,G as ae,m as Ce,o as ce,ae as $e,l as qe,a$ as Ne,aX as W,b0 as Me,aL as Pe,ax as ze,ay as I,aH as X,aA as S,aF as B,az as ne,b1 as Be,aO as Te,F as Fe,f as _,aC as Ve,J as le,aE as Q,aP as ie,aJ as D,aM as re,aB as oe}from"./index.ad2ba990.js";import{Q as Ie}from"./FileUpload.vue_vue_type_style_index_0_scoped_true_lang.e5af501b.js";import{u as Qe}from"./use-quasar.61617965.js";import"./axios.4f040f7f.js";import{_ as Le}from"./plugin-vue_export-helper.21dcd24c.js";import"https://esm.sh/octokit";const p={...he,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},U=50,de=2*U,ve=de*Math.PI,Re=Math.round(ve*1e3)/1e3;var De=Y({name:"QCircularProgress",props:{...p,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:c}){const{proxy:{$q:f}}=Z(),k=ye(e),w=r(()=>{const i=(f.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(f.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-i}deg)`:`rotate3d(0, 0, 1, ${i-90}deg)`}}),d=r(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),v=r(()=>de/(1-e.thickness/2)),h=r(()=>`${v.value/2} ${v.value/2} ${v.value} ${v.value}`),t=r(()=>A(e.value,e.min,e.max)),o=r(()=>e.max-e.min),n=r(()=>e.thickness/2*v.value),s=r(()=>{const i=(e.max-t.value)/o.value,g=e.rounded===!0&&t.value<e.max&&i<.25?n.value/2*(1-i/.25):0;return ve*i+g});function u({thickness:i,offset:g,color:C,cls:T,rounded:F}){return m("circle",{class:"q-circular-progress__"+T+(C!==void 0?` text-${C}`:""),style:d.value,fill:"transparent",stroke:"currentColor","stroke-width":i,"stroke-dasharray":Re,"stroke-dashoffset":g,"stroke-linecap":F,cx:v.value,cy:v.value,r:U})}return()=>{const i=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&i.push(m("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:U-n.value/2,cx:v.value,cy:v.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&i.push(u({cls:"track",thickness:n.value,offset:0,color:e.trackColor})),i.push(u({cls:"circle",thickness:n.value,offset:s.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const g=[m("svg",{class:"q-circular-progress__svg",style:w.value,viewBox:h.value,"aria-hidden":"true"},i)];return e.showValue===!0&&g.push(m("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},c.default!==void 0?c.default():[m("div",t.value)])),m("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:k.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:t.value},be(c.internal,g))}}});const se=[34,37,40,33,39,38],Ae=Object.keys(p);var Ee=Y({name:"QKnob",props:{...Se,...p,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:c,emit:f}){const{proxy:k}=Z(),{$q:w}=k,d=N(e.modelValue),v=N(!1),h=r(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),t=r(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let o;function n(){d.value=e.modelValue===null?h.value:A(e.modelValue,h.value,t.value),z(!0)}ue(()=>`${e.modelValue}|${h.value}|${t.value}`,n),n();const s=r(()=>e.disable===!1&&e.readonly===!1),u=r(()=>"q-knob non-selectable"+(s.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),i=r(()=>(String(e.step).trim().split(".")[1]||"").length),g=r(()=>e.step===0?1:e.step),C=r(()=>e.instantFeedback===!0||v.value===!0),T=w.platform.is.mobile===!0?r(()=>s.value===!0?{onClick:V}:{}):r(()=>s.value===!0?{onMousedown:G,onClick:V,onKeydown:H,onKeyup:L}:{}),F=r(()=>s.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),E=r(()=>{const a={};return Ae.forEach(b=>{a[b]=e[b]}),a});function j(a){a.isFinal?(P(a.evt,!0),v.value=!1):(a.isFirst&&(M(),v.value=!0),P(a.evt))}const O=r(()=>[[fe,j,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function M(){const{top:a,left:b,width:q,height:R}=k.$el.getBoundingClientRect();o={top:a+R/2,left:b+q/2}}function G(a){M(),P(a)}function V(a){M(),P(a,!0)}function H(a){if(!se.includes(a.keyCode))return;ke(a);const b=([34,33].includes(a.keyCode)?10:1)*g.value,q=[34,37,40].includes(a.keyCode)?-b:b;d.value=A(parseFloat((d.value+q).toFixed(i.value)),h.value,t.value),z()}function P(a,b){const q=_e(a),R=Math.abs(q.top-o.top),ge=Math.sqrt(R**2+Math.abs(q.left-o.left)**2);let y=Math.asin(R/ge)*(180/Math.PI);q.top<o.top?y=o.left<q.left?90-y:270+y:y=o.left<q.left?y+90:270-y,w.lang.rtl===!0?y=ee(-y-e.angle,0,360):e.angle&&(y=ee(y-e.angle,0,360)),e.reverse===!0&&(y=360-y);let x=e.min+y/360*(e.max-e.min);if(g.value!==0){const K=x%g.value;x=x-K+(Math.abs(K)>=g.value/2?(K<0?-1:1)*g.value:0),x=parseFloat(x.toFixed(i.value))}x=A(x,h.value,t.value),f("dragValue",x),d.value!==x&&(d.value=x),z(b)}function L(a){se.includes(a.keyCode)&&z(!0)}function z(a){e.modelValue!==d.value&&f("update:modelValue",d.value),a===!0&&f("change",d.value)}const l=xe(e);function $(){return m("input",l.value)}return()=>{const a={class:u.value,role:"slider","aria-valuemin":h.value,"aria-valuemax":t.value,"aria-valuenow":e.modelValue,...F.value,...E.value,value:d.value,instantFeedback:C.value,...T.value},b={default:c.default};return s.value===!0&&e.name!==void 0&&(b.internal=$),we(De,a,b,"knob",s.value,()=>O.value)}}});const je={ratio:[String,Number]};function Oe(e,c){return r(()=>{const f=Number(e.ratio||(c!==void 0?c.value:void 0));return isNaN(f)!==!0&&f>0?{paddingBottom:`${100/f}%`}:null})}const Ge=1.7778;var He=Y({name:"QImg",props:{...je,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ge},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:c,emit:f}){const k=N(e.initialRatio),w=Oe(e,k),d=Z(),{registerTimeout:v,removeTimeout:h}=ae(),{registerTimeout:t,removeTimeout:o}=ae(),n=r(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),s=r(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),u=[N(null),N(n.value)],i=N(0),g=N(!1),C=N(!1),T=r(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),F=r(()=>({width:e.width,height:e.height})),E=r(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),j=r(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function O(){if(o(),e.loadingShowDelay===0){g.value=!0;return}t(()=>{g.value=!0},e.loadingShowDelay)}function M(){o(),g.value=!1}function G({target:l}){W(d)===!1&&(h(),k.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,V(l,1))}function V(l,$){$===1e3||W(d)===!0||(l.complete===!0?H(l):v(()=>{V(l,$+1)},50))}function H(l){W(d)!==!0&&(i.value=i.value^1,u[i.value].value=null,M(),l.getAttribute("__qerror")!=="true"&&(C.value=!1),f("load",l.currentSrc||l.src))}function P(l){h(),M(),C.value=!0,u[i.value].value=s.value,u[i.value^1].value=n.value,f("error",l)}function L(l){const $=u[l].value,a={key:"img_"+l,class:E.value,style:j.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...$};return i.value===l?Object.assign(a,{class:a.class+"current",onLoad:G,onError:P}):a.class+="loaded",m("div",{class:"q-img__container absolute-full",key:"img"+l},m("img",a))}function z(){return g.value===!1?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},qe(c[C.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},c.loading!==void 0?c.loading():e.noSpinner===!0?void 0:[m(Ne,{color:e.spinnerColor,size:e.spinnerSize})])}{let l=function(){ue(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,$=>{h(),C.value=!1,$===null?(M(),u[i.value^1].value=n.value):O(),u[i.value].value=$},{immediate:!0})};Ce.value===!0?ce(l):l()}return()=>{const l=[];return w.value!==null&&l.push(m("div",{key:"filler",style:w.value})),u[0].value!==null&&l.push(L(0)),u[1].value!==null&&l.push(L(1)),l.push(m($e,{name:"q-transition--fade"},z)),m("div",{key:"main",class:T.value,style:F.value,role:"img","aria-label":e.alt},l)}}});const Ke={class:"row"},Je={class:"absolute-bottom",style:{padding:"0",background:"none"}},We={style:{padding:"0 10px"}},Xe={class:"text-h6 title"},Ue={class:"text-subtitle2 path"},Ye={key:0},Ze=Object.assign({name:"IndexPage"},{__name:"IndexPage",setup(e){const c=Qe();N([]),Me();const f=Pe(),k=ze(),w=t=>{if(t<1024)return t+"k";if(t>1024&&t<1024*1024)return(t/1024).toFixed(1)+"M";if(t>1024*1024)return(t/1024/1024).toFixed(1)+"G"},d=t=>{k.changeUploadStatus(t.description.type),f.push({path:"/detail",query:{id:t.id,owner:t.owner.login,repo:t.name}})},v=(t,o)=>{o.stopPropagation(),c.dialog({dark:!0,title:"\u8B66\u544A",message:"\u8BE5\u64CD\u4F5C\u6781\u5176\u5371\u9669\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u6539\u5E93\uFF01\uFF01\uFF01"}).onOk(()=>{c.loading.show({delay:400}),octokit.request(`DELETE /repos/${t.owner.login}/${t.name}`,{owner:t.owner.login,repo:t.name,headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>{k.getStoreList().then(s=>{}).catch(s=>{let u=c.dialog({message:"\u672A\u77E5\u9519\u8BEF",position:"top"}),i=setTimeout(()=>{u.hide(),clearTimeout(i)},1e3)})}).finally(()=>{c.loading.hide()}).catch(n=>{let s=c.dialog({message:"\u5220\u9664\u5931\u8D25",position:"top"}),u=setTimeout(()=>{s.hide(),clearTimeout(u)},1e3)})}).onCancel(()=>{}).onDismiss(()=>{})},h=async(t,o)=>{o.stopPropagation(),window.open(`https://api.github.com/repos/${t.owner.login}/${t.name}/zipball/main?owner=${t.owner.login}&repo=${t.name}&ref=main`)};return ce(()=>{}),(t,o)=>(I(),X(Ie,{class:"container"},{default:S(()=>[B("div",Ke,[(I(!0),ne(Fe,null,Be(Te(k).storeList,n=>(I(),X(me,{class:"item",key:n.id},{default:S(()=>[_(Ve,{class:"col-auto-sm my-card",onClick:s=>d(n)},{default:S(()=>[le(_(J,{size:"sm",color:"red","text-color":"white",icon:"event",class:"clip"},{default:S(()=>o[0]||(o[0]=[Q(" \u79C1\u6709 ")])),_:2},1536),[[ie,n.visibility=="private"]]),le(_(J,{size:"sm",color:"primary","text-color":"white",icon:"event",class:"clip"},{default:S(()=>o[1]||(o[1]=[Q(" \u516C\u5F00 ")])),_:2},1536),[[ie,n.visibility=="public"]]),_(He,{style:{height:"180px"},src:"https://cdn.quasar.dev/img/parallax1.jpg"},{default:S(()=>{var s,u;return[B("div",Je,[B("div",We,[B("div",Xe,D(n.name),1),B("div",Ue,[((s=n.description)==null?void 0:s.type)!="img-box"?(I(),ne("span",Ye,D(((u=n.description)==null?void 0:u.message)||"-"),1)):(I(),X(J,{key:1,color:"primary",size:"sm",square:"","text-color":"white",icon:"star"},{default:S(()=>o[2]||(o[2]=[Q("\u56FE\u5E8A")])),_:1}))])]),_(re,{style:{"justify-content":"space-between",padding:"10px","background-color":"#0000005e"}},{default:S(()=>[_(te,{style:{"margin-right":"10px"}},{default:S(()=>[_(te,{class:"font-size-12;"},{default:S(()=>[Q("\u5B58\u50A8\u5E93\u5927\u5C0F:"+D(w(n.size)),1)]),_:2},1024),o[3]||(o[3]=B("div",{class:"text-red font-size-12"}," (\u5EFA\u8BAE\u4E0D\u8981\u8D85\u8FC71G\uFF0C\u53EF\u80FD\u9762\u4E34\u5C01\u53F7\u98CE\u9669) ",-1))]),_:2},1024),_(Ee,{"show-value":"","font-size":"12px",value:n==null?void 0:n.percent,size:"50px",thickness:.22,color:"teal","track-color":"grey-3"},{default:S(()=>[Q(D(n==null?void 0:n.percent)+"% ",1)]),_:2},1032,["value"])]),_:2},1024)])]}),_:2},1024),_(re,null,{default:S(()=>[_(oe,{color:"red",flat:"",label:"\u5220\u9664",onClick:s=>v(n,s)},null,8,["onClick"]),_(oe,{color:"primary",flat:"",label:"\u5BFC\u51FA",onClick:s=>h(n,s)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1}))}});var rt=Le(Ze,[["__scopeId","data-v-63d834d5"]]);export{rt as default};
